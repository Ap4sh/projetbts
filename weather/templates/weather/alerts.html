{% extends 'weather/base.html' %}
{% load static %}

{% block title %}Alertes Météo - Météo France{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold mb-8">Alertes Météo en France</h1>
    
    <!-- Filtres -->
    <div class="mb-8 flex flex-wrap gap-4">
        <!-- Filtre par type -->
        <div class="flex-1 min-w-[200px]">
            <label for="type-filter" class="block text-sm font-medium text-gray-700 mb-2">Type d'alerte</label>
            <select id="type-filter" class="w-full p-2 border rounded-lg"
                    hx-get="{% url 'weather:filter_alerts' %}"
                    hx-target="#alerts-container"
                    hx-trigger="change"
                    name="type">
                <option value="">Tous les types</option>
                <option value="rain">Pluie</option>
                <option value="wind">Vent</option>
                <option value="storm">Orage</option>
                <option value="snow">Neige/Verglas</option>
                <option value="heat">Chaleur</option>
                <option value="flood">Inondation</option>
            </select>
        </div>
        
        <!-- Filtre par région -->
        <div class="flex-1 min-w-[200px]">
            <label for="region-filter" class="block text-sm font-medium text-gray-700 mb-2">Région</label>
            <select id="region-filter" class="w-full p-2 border rounded-lg"
                    hx-get="{% url 'weather:filter_alerts' %}"
                    hx-target="#alerts-container"
                    hx-trigger="change"
                    name="region">
                <option value="">Toutes les régions</option>
                <option value="Auvergne-Rhône-Alpes">Auvergne-Rhône-Alpes</option>
                <option value="Bourgogne-Franche-Comté">Bourgogne-Franche-Comté</option>
                <option value="Bretagne">Bretagne</option>
                <option value="Centre-Val de Loire">Centre-Val de Loire</option>
                <option value="Corse">Corse</option>
                <option value="Grand Est">Grand Est</option>
                <option value="Hauts-de-France">Hauts-de-France</option>
                <option value="Île-de-France">Île-de-France</option>
                <option value="Normandie">Normandie</option>
                <option value="Nouvelle-Aquitaine">Nouvelle-Aquitaine</option>
                <option value="Occitanie">Occitanie</option>
                <option value="Pays de la Loire">Pays de la Loire</option>
                <option value="Provence-Alpes-Côte d'Azur">Provence-Alpes-Côte d'Azur</option>
            </select>
        </div>
    </div>
    
    <!-- Conteneur des alertes -->
    <div id="alerts-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        {% include 'weather/partials/alert_feed.html' %}
    </div>
</div>
{% endblock %} 