{% if error %}
    <div class="p-4 text-center">
        <p>Erreur lors de la recherche</p>
        <p class="text-xs mt-2 opacity-70">{{ error }}</p>
    </div>
{% elif cities %}
    <ul class="menu p-2">
        {% for city in cities %}
        <li>
            {% if city.name %}
            <a href="{% url 'weather:weather_detail' city.name %}" class="flex items-center gap-2">
                <div class="weather-icon">
                    {% if city.weather.icon %}
                    <img src="https://openweathermap.org/img/wn/{{ city.weather.icon }}.png" 
                         alt="{{ city.weather.description }}" 
                         class="w-6 h-6" />
                    {% else %}
                    <div class="w-6 h-6 bg-gray-200 rounded-full"></div>
                    {% endif %}
                </div>
                <div class="flex-1">
                    <div class="font-medium">{{ city.name }}</div>
                    <div class="text-xs opacity-70">
                        {% if city.weather.description %}
                            {{ city.weather.description|capfirst }}
                        {% else %}
                            Données météo non disponibles
                        {% endif %}
                    </div>
                </div>
                <div class="temperature font-bold">
                    {% if city.main.temp %}
                        {{ city.main.temp|floatformat:0 }}°C
                    {% else %}
                        --°C
                    {% endif %}
                </div>
            </a>
            {% endif %}
        </li>
        {% endfor %}
    </ul>
{% elif query %}
    <div class="p-4 text-center">
        <p>Aucune ville trouvée pour "{{ query }}"</p>
        <p class="text-xs mt-2 opacity-70">Essayez avec un autre nom de ville ou vérifiez l'orthographe</p>
    </div>
{% endif %} 